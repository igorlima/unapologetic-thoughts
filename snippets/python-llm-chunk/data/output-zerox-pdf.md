Wed Dec 25 2024

+ Member-only story
# Why PyMuPDF4LLM is the Best Tool for Extracting Data from PDFs (Even if You Didn't Know You Needed It)
Anoop Maurya ¬∑ Follow
PY Published in Python in Plain English
7 min read ¬∑ 5 days ago

Listen Share More

https://python.plainenglish.io/why-pymupdf4llm-is-the-bes...m-pdfs-even-if-you-didnt-know-you-needed-7bff75313691 24/10/2024, 08:04
P√°gina 1 de 19

DATA *

Photo by Claudio Schwarz on Unsplash

https://python.plainenglish.io/why-pymupdf4llm-is-the-bes...m-pdfs-even-if-you-didnt-know-you-needed-7bff75313691 24/10/2024, 08:04
P√°gina 2 de 19

Stuck behind a paywall? Read for Free!

You know how it goes when working with PDFs, especially when those
PDFs are dense research papers or documents packed with tables, images,
and metadata. For anyone in the AI world ‚Äî particularly those fine-tuning
large language models (LLMs) or building knowledge retrieval systems like
RAG (Retrieval-Augmented Generation) ‚Äî extracting the right data is
crucial. But let‚Äôs be honest: not all PDF extraction tools are up to the task.

In my journey through various data extraction tools, I‚Äôve come across
many that *almost* did the job, but something was always missing. Either
they couldn‚Äôt capture the structure well, or they fell flat when extracting
complex tables and images. That was until I discovered **PyMuPDF4LLM** ‚Äî
a tool that quickly became my go-to for all things PDF. But enough with the
intro ‚Äî let‚Äôs dive into what makes PyMuPDF4LLM such a game changer.

**The PDF Dilemma We‚Äôve All Faced**
Picture this: you‚Äôre working on a project that involves fine-tuning an LLM
for domain-specific tasks ‚Äî say, legal documents or scientific papers. You
need to extract text while maintaining the structure, pull out some tables,
and get high-quality images for model training. Sounds simple, right?
Wrong.

With most PDF tools, you either get garbled text that loses context or ‚Äî
worse ‚Äî images that are more ‚Äúpotato quality‚Äù than useful data. Worse
still, some tools completely miss tables or mess up word alignments. If
you‚Äôre lucky, you might get a decent text output, but what about the images
and tables that are often key to training more comprehensive models?

That‚Äôs where **PyMuPDF4LLM** comes in. It‚Äôs flexible, fast, and can handle
just about any data extraction task thrown at it. Whether you‚Äôre building an
LLM-based application or just need to prepare data for fine-tuning, this
tool has you covered.

https://python.plainenglish.io/why-pymupdf4llm-is-the-bes...m-pdfs-even-if-you-didnt-know-you-needed-7bff75313691
24/10/2024, 08:04
P√°gina 3 de 19

Why PyMuPDF4LLM Works So Well for LLM Tasks
1.  **Versatile Markdown Extraction:** Whether you're extracting basic text
    or structuring it for fine-tuning, PyMuPDF4LLM delivers everything in
    an easily readable Markdown format. It's fast, efficient, and ensures
    that everything ‚Äî text, images, tables, and metadata ‚Äî is captured in a
    format that LLMs can work with directly.
2.  **Flexibility in Application:** PyMuPDF4LLM isn't just good for text
    extraction. You can extract data by page, save it in formats needed for
    RAG tasks, or directly pipe it into frameworks like LlamaIndex (for
    embeddings and document search). The beauty is in its flexibility.
3.  **Comprehensive Extraction:** This tool doesn't just scrape plain text. It
    also offers **image extraction, word-by-word chunking, table**
    **extraction**, and more. This kind of granularity is invaluable when
    you're working with PDFs in various complex applications, from
    knowledge base creation to sentiment analysis.

If you enjoyed the article and want to show some love:
*   Clap 50 times ‚Äî each one helps more than you think! üëè
*   Follow me here on Medium and subscribe for free to catch my latest
    posts. ü¶ò
*   Let's connect on LinkedIn, check out my projects on GitHub, and stay
    in touch on Twitter!

https://python.plainenglish.io/why-pymupdf4llm-is-the-bes...m-pdfs-even-if-you-didnt-know-you-needed-7bff75313691
24/10/2024, 08:04
P√°gina 4 de 19

# PyMuPDF4LLM in Action: Extracting Data with Precision
Let me walk you through some real-life examples of how I've used
PyMuPDF4LLM in my own work, from basic text extraction to more
complex use cases like chunking, table extraction, and more. The
versatility of this tool is truly impressive, making it the best option for
many LLM-related tasks.

First install PyMuPDF4LLM using pip:
```
pip install pymupdf4llm
```
Use Case 1: Basic Markdown Extraction
This one is simple: you have a PDF and just want the content in a clean,
Markdown-friendly format. PyMuPDF4LLM can extract the text, complete
with headers, lists, and other formatting, making it easy to work with.
```python
import pymupdf4llm
# Extract PDF content as Markdown
md_text = pymupdf4llm.to_markdown("input.pdf")
print(md_text[:500]) # Print first 500 characters
```
In this example, I've used PyMuPDF4LLM to extract the contents of a
research paper into a Markdown format. Why Markdown? It's ideal for
fine-tuning models because it retains structure and formatting, which can
be crucial for generating coherent responses from LLMs.

https://python.plainenglish.io/why-pymupdf4llm-is-the-bes...m-pdfs-even-if-you-didnt-know-you-needed-7bff75313691
24/10/2024, 08:04
P√°gina 5 de 19

Processing bengio03a.pdf...
[ ](0/1=[ ](1/19=[
## A Neural Probabilistic Language Model
**Yoshua Bengio** BENGIOY@IRO.UMONTREAL.CA
**R√©jean Ducharme** DUCHARME@IRO.UMONTREAL.CA
**Pascal Vincent** VINCENTP@IRO.UMONTREAL.CA
**Christian Jauvin** JAUVINC@IRO.UMONTREAL.CA
_D√©partement d'Informatique et Recherche Op√©rationnelle_
_Centre de Recherche Math√©matiques_
_Universit√© de Montr√©al, Montr√©al, Qu√©bec, Canada_
**Editors: Jaz Kandola, Thomas Hofmann, Tomaso Poggio and John Shawe-Taylor**
### Abstract
A goal of statistical language modeling

image by Author
Use Case 2: Extracting Specific Pages
Sometimes you only need part of a document ‚Äî maybe just a specific
section for training. With PyMuPDF4LLM, you can target exactly which
pages to extract, saving both time and resources.

```python
import pymupdf4llm

# Extract only pages 10 and 11
md_text = pymupdf4llm.to_markdown("bengio03a.pdf", pages=[10, 11])
print(md_text[:500]) # Print first 500 characters
```

This feature is particularly helpful when dealing with massive documents.
For example, extracting specific chapters or sections makes it easy to train
LLMs on only the most relevant information.
Use Case 3: Saving Markdown to a File
After extracting the data, you might want to save it in a format that's easy
to revisit or share. PyMuPDF4LLM makes it a breeze.

```
import pymupdf4llm
import pathlib

md_text = pymupdf4llm.to_markdown("bengio03a.pdf")
pathlib.Path("output.md").write_bytes(md_text.encode())
print("Markdown saved to output.md")

[image by Author](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAA5CAYAAAA1z4t9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAACk5SURBVHhe7V0JkFNV+n899t57z9777j412n1u7e7lG3aXv7u7X3d9X9J757v3e7d5+l9V16b/v33v3d2+Lz7z00oDCCBJIJkEQiSjMhkSZZkmRzZ05J/r33P0yQ+d7XJ52m22X1X+a1sP5u3+Y53+H//+v99q//x5z/9/3f/H//4//9/9P/+9/8P//3//7//1X+v/1//3//9//+/3f//3//7/v//+/3//9//+/7/f//+//f//n//+//f///+/7////5//+7/f///+9//+/3/+7//4f/9v//j/+//9///+/7//+//9v//+/3//+/3/9///7/+//f///9//+//7/f//+//+//3//9///9//+/3/9//7//7/v///f//7///+/3//7//+///7/f//f//7///9//7//v//+///+//3//7/f//7//7//f//f//+//7//+/3///+///3//7///+//f//+/f//+//+//f//v///7///+/7//7/f//+//7//+///7/f///v//9///7//+//7/v//+///7//+///7//9///7//+///7//7///9/++///v//+//7////3////7//7//+//3//7//7///+//+//f//+/7//+///7//7//7///+//f//+/7//7////7///f//+/7///7/f///7//9///7//7/f//+/3//+//7///f///7/f///7/////+///7/+//7//+///7/////+////7///9///9/////+///7//9//7/////+///f//9////7/////+///+//3////7/v///7/f//+/f///7//9///7//+//7//7//7//7//7/f/////+///7/////+///7/////+///7/////+/////+///7/////+/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7/////+///7
Whether you're using these documents for embedding, search, or any
knowledge-based tasks, PyMuPDF4LLM does the heavy lifting, ensuring
the data is structured and easy to query.

**Use Case 5: Image Extraction**
Extracting images along with text is often overlooked but incredibly
important, especially for documents containing figures, diagrams, or
charts. PyMuPDF4LLM handles it seamlessly.

```python
md_text_images = pymupdf4llm.to_markdown(doc="bengio03a.pdf",
                                         pages=[1, 11],
                                         page_chunks=True,
                                         write_images=True,
                                         image_path="images",
                                         image_format="jpg",
                                         dpi=200)
print(md_text_images[0]['images']) # Print image information from the
```

This is perfect for when you're working with technical documents or
reports that include lots of visual data. The quality of the extracted images
is impressive and works well even for high-resolution images.

**Use Case 6: Chunking with Metadata**
For fine-tuning tasks, breaking down PDFs into manageable chunks with
metadata is critical. PyMuPDF4LLM allows you to do this efficiently.

```python
md_text_chunks = pymupdf4llm.to_markdown(doc="bengio03a.pdf",
                                         pages=[0, 1, 2],
                                         page_chunks=True)
print(md_text_chunks[0]) # Print the first chunk
```

https://python.plainenglish.io/why-pymupdf4llm-is-the-bes...m-pdfs-even-if-you-didnt-know-you-needed-7bff75313691
24/10/2024, 08:04
P√°gina 8 de 19

```
(0/3(
(1/
{"format": "PDF 1.1', 'title": "bengio@3a.dvi", 'author': '', 'subject': "", "keywords": "", "creator": "dvips(k) 5.86 Cop
image by author
This use case is fantastic for preparing data for LLMs, where having
properly chunked text with metadata can significantly improve model
performance.
Use Case 7: Word-by-Word Extraction
Sometimes, you need more control over the text you extract, especially for
tasks like sentiment analysis or text generation that require precise word-
level data.
```python
md_text_words = pymupdf4llm.to_markdown(doc="bengio03a.pdf",
                                        pages=[1,2],
                                        page_chunks=True,
                                        write_images=True,
                                        image_path="images",
                                        image_format="jpg",
                                        dpi=200,
                                        extract_words=True)
print(md_text_words[0]['words'][:5]) # Print the first 5 words from 1
```
```
[(90.0, 93.28394317626953, 119.24702453613281, 104.19293975830078, 'mated,, 0, 0, 0), (122.51972961425781, 93.28394317626953, 138.1850
image by author
```
https://python.plainenglish.io/why-pymupdf4llm-is-the-bes...m-pdfs-even-if-you-didnt-know-you-needed-7bff75313691 24/10/2024, 08:04
P√°gina 9 de 19

This level of extraction is incredibly helpful for NLP tasks, where word
positioning and context matter a great deal.

**Use Case 8: Table Extraction**

Last but not least, tables are notoriously hard to extract from PDFs without
losing their formatting. PyMuPDF4LLM handles this gracefully, making
sure tables come out clean and ready to use.

```python
import pymupdf4llm
import json
md_text_tables = pymupdf4llm.to_markdown(doc="bengio03a.pdf",
                                       pages=[12],  # Specify pages
                                       )
print(md_text_tables)
```

Tables often hold critical data, especially in technical documents, and
PyMuPDF4LLM ensures that these are extracted accurately, ready for
downstream analysis.

```
Query: Provide information about the races held on Sepang International Circuit|Col2|Col3|
|---|---|---|
RAG|Text2SQL + LM|Hand-written TAG|
Based on the given data points, the following information is available about the races held on Sepang International Circuit: The
```
image by author

https://python.plainenglish.io/why-pymupdf4llm-is-the-bes...m-pdfs-even-if-you-didnt-know-you-needed-7bff75313691 24/10/2024, 08:04
P√°gina 10 de 19

**Final Thoughts: Is PyMuPDF4LLM the Best? I'd Say So!**
After using PyMuPDF4LLM extensively across multiple projects, I can confidently say it's hands down the most versatile and reliable PDF data extraction tool for LLM tasks. It's not just about getting the text or images ‚Äî it's about getting **everything** you need in a format that LLMs can easily work with.

So, whether you're building a RAG system, fine-tuning an LLM, or just need a solid extraction tool for PDFs, give PyMuPDF4LLM a try. It's streamlined, efficient, and in my experience, it simply works.

. . .

**Additional Resource:**
**Complete Code**:https://github.com/imanoop7/PDF-Data-Extractor
**Official WebSite**: https://pymupdf.readthedocs.io/en/latest/pymupdf4llm/#
**My GitHub**: https://github.com/imanoop7
**LinkedIn**: www.linkedin.com/in/anoop-maurya-908499148
**X**: https://x.com/imanoop_7

**In Plain English** üöÄ
Thank you for being a part of the **In Plain English** community! Before you go:

*   Be sure to clap and follow the writer üëè
*   Follow us: **X** | **LinkedIn** | **YouTube** | **Discord** | **Newsletter** | **Podcast**
*   **Create a free AI-powered blog on Differ**.
*   More content at **PlainEnglish.io**

https://python.plainenglish.io/why-pymupdf4llm-is-the-bes...m-pdfs-even-if-you-didnt-know-you-needed-7bff75313691 24/10/2024, 08:04
P√°gina 11 de 19
